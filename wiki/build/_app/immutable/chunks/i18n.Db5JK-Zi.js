import{a6 as B,ax as ge,ay as _e,ap as P,az as he,U as x,ag as b,aA as C,i as L,w as K,aB as ve,V as me,q as we,O as U,D as be,P as ye,ah as Te,ai as xe,C as Le,B as X,ak as Z,N as J,a2 as Q,E as Se,a1 as Pe,aC as Ee,aD as Re,aE as Ie,aF as Oe,e as V,aG as De,aH as $e,o as ee,aI as Ae,aa as je,aJ as pe,aK as Be,a7 as Ce,k as te,aL as Ne,aM as Fe,S as Me}from"./runtime.DTchB4Bm.js";import{c as We,p as Ue}from"./stores.CRC5ZXFP.js";import"./legacy.CV2mL5_q.js";import{b as j,g as ze}from"./entry.BuFI571w.js";function D(e,t=null,n){if(typeof e!="object"||e===null||B in e)return e;const u=me(e);if(u!==ge&&u!==_e)return e;var s=new Map,c=we(e),o=P(0);c&&s.set("length",P(e.length));var d;return new Proxy(e,{defineProperty(r,a,i){(!("value"in i)||i.configurable===!1||i.enumerable===!1||i.writable===!1)&&he();var f=s.get(a);return f===void 0?(f=P(i.value),s.set(a,f)):x(f,D(i.value,d)),!0},deleteProperty(r,a){var i=s.get(a);if(i===void 0)a in r&&s.set(a,P(b));else{if(c&&typeof a=="string"){var f=s.get("length"),l=Number(a);Number.isInteger(l)&&l<f.v&&x(f,l)}x(i,b),ne(o)}return!0},get(r,a,i){var h;if(a===B)return e;var f=s.get(a),l=a in r;if(f===void 0&&(!l||(h=C(r,a))!=null&&h.writable)&&(f=P(D(l?r[a]:b,d)),s.set(a,f)),f!==void 0){var g=L(f);return g===b?void 0:g}return Reflect.get(r,a,i)},getOwnPropertyDescriptor(r,a){var i=Reflect.getOwnPropertyDescriptor(r,a);if(i&&"value"in i){var f=s.get(a);f&&(i.value=L(f))}else if(i===void 0){var l=s.get(a),g=l==null?void 0:l.v;if(l!==void 0&&g!==b)return{enumerable:!0,configurable:!0,value:g,writable:!0}}return i},has(r,a){var g;if(a===B)return!0;var i=s.get(a),f=i!==void 0&&i.v!==b||Reflect.has(r,a);if(i!==void 0||K!==null&&(!f||(g=C(r,a))!=null&&g.writable)){i===void 0&&(i=P(f?D(r[a],d):b),s.set(a,i));var l=L(i);if(l===b)return!1}return f},set(r,a,i,f){var y;var l=s.get(a),g=a in r;if(c&&a==="length")for(var h=i;h<l.v;h+=1){var w=s.get(h+"");w!==void 0?x(w,b):h in r&&(w=P(b),s.set(h+"",w))}l===void 0?(!g||(y=C(r,a))!=null&&y.writable)&&(l=P(void 0),x(l,D(i,d)),s.set(a,l)):(g=l.v!==b,x(l,D(i,d)));var _=Reflect.getOwnPropertyDescriptor(r,a);if(_!=null&&_.set&&_.set.call(f,i),!g){if(c&&typeof a=="string"){var v=s.get("length"),R=Number(a);Number.isInteger(R)&&R>=v.v&&x(v,R+1)}ne(o)}return!0},ownKeys(r){L(o);var a=Reflect.ownKeys(r).filter(l=>{var g=s.get(l);return g===void 0||g.v!==b});for(var[i,f]of s)f.v!==b&&!(i in r)&&a.push(i);return a},setPrototypeOf(){ve()}})}function ne(e,t=1){x(e,e.v+t)}function xt(e,t,n,u=null,s=!1){U&&be();var c=e,o=null,d=null,r=null,a=s?Pe:0;ye(()=>{if(r===(r=!!t()))return;let i=!1;if(U){const f=c.data===Te;r===f&&(c=xe(),Le(c),X(!1),i=!0)}r?(o?Z(o):o=J(()=>n(c)),d&&Q(d,()=>{d=null})):(d?Z(d):u&&(d=J(()=>u(c))),o&&Q(o,()=>{o=null})),i&&X(!0)},a),U&&(c=Se)}function re(e){for(var t=K,n=K;t!==null&&!(t.f&(De|$e));)t=t.parent;try{return ee(t),e()}finally{ee(n)}}function Lt(e,t,n,u){var A;var s=(n&Ae)!==0,c=!je||(n&pe)!==0,o=(n&Be)!==0,d=(n&Fe)!==0,r=!1,a;o?[a,r]=We(()=>e[t]):a=e[t];var i=B in e||Ce in e,f=((A=C(e,t))==null?void 0:A.set)??(i&&o&&t in e?m=>e[t]=m:void 0),l=u,g=!0,h=!1,w=()=>(h=!0,g&&(g=!1,d?l=V(u):l=u),l);a===void 0&&u!==void 0&&(f&&c&&Ee(),a=w(),f&&f(a));var _;if(c)_=()=>{var m=e[t];return m===void 0?w():(g=!0,h=!1,m)};else{var v=re(()=>(s?te:Ne)(()=>e[t]));v.f|=Re,_=()=>{var m=L(v);return m!==void 0&&(l=void 0),m===void 0?l:m}}if(!(n&Ie))return _;if(f){var R=e.$$legacy;return function(m,O){return arguments.length>0?((!c||!O||R||r)&&f(O?_():m),m):_()}}var y=!1,I=!1,$=Me(a),S=re(()=>te(()=>{var m=_(),O=L($);return y?(y=!1,I=!0,O):(I=!1,$.v=m)}));return s||(S.equals=Oe),function(m,O){if(arguments.length>0){const W=O?L(S):c&&o?D(m):m;return S.equals(W)||(y=!0,x($,W),h&&l!==void 0&&(l=W),V(()=>L(S))),m}return L(S)}}let H;const ue="en",fe=["en","it"];let N=()=>ue;const ke=e=>{typeof e=="function"?N=ae(e):N=ae(()=>e),H!==void 0&&H(N())};function ae(e){return()=>{const t=e();if(!ce(t))throw new Error("languageTag() didn't return a valid language tag. Check your setLanguageTag call");return t}}const qe=e=>{H=e};function ce(e){return fe.includes(e)}const Ye=Object.freeze(Object.defineProperty({__proto__:null,availableLanguageTags:fe,isAvailableLanguageTag:ce,get languageTag(){return N},onSetLanguageTag:qe,setLanguageTag:ke,sourceLanguageTag:ue},Symbol.toStringTag,{value:"Module"}));function Ke(e,t){if(e==="")return"";const n=new URL(e,t).pathname;return n.endsWith("/")?n.slice(0,-1):n}function F(e,t){const n=Xe(e),u=He(n,t),[s,c]=Ge(u);return[s,c]}const G=(e,t,n)=>[t,e,n??""].filter(u=>u!=="/").join("")||"/";function He(e,t){const n=e.replace(t,"");return n.startsWith("/")?n:`/${n}`}function Ge(e){const n=["/.html__data.json","/__data.json"].find(u=>e.endsWith(u));return n?[e.slice(0,-n.length)||"/",n]:[e,void 0]}function Xe(e){try{return decodeURI(e)}catch{return e}}const Ze=e=>({url:t})=>{try{const[n,u]=F(t.pathname,j),s=e.getLanguageFromLocalisedPath(n);if(!s)return t.pathname;const c=e.getCanonicalPath(n,s);return G(c,j,u)}catch{return t.pathname}};function Je(e){return`/${e.split("/").filter(Boolean).join("/")}`}function Qe(e){const t=e.map(n=>typeof n=="string"?u=>u===n:u=>n.test(u));return n=>t.some(u=>u(Je(n)))}const p="rtl",z="ltr";function Ve(e){try{const t=new Intl.Locale(e);return"textInfo"in t?t.textInfo.direction===p?p:z:t.getTextInfo().direction===p?p:z}catch{return z}}function et(e){const t=e.map(n=>[n,Ve(n)]);return Object.fromEntries(t)}const tt=0,ie=1,M=2,nt=4,T=0,E=1,k=2;function rt(e){const t=at(it);return e.sort((n,u)=>{var s,c,o,d,r,a;const i=se(n).map(t),f=se(u).map(t);for(let l=0;l<Math.max(i.length,f.length);l+=1){const g=i[l],h=f[l];if(!g)return-1;if(!h)return 1;for(let w=0;w<Math.max(g.length,h.length);w+=1){const _=g[w],v=h[w];if((_==null?void 0:_[T])||(v==null?void 0:v[T])){if(!_)return-1;if(!v)return 1;const y=((s=g[w+1])==null?void 0:s[E])||((o=(c=i[l+1])==null?void 0:c[0])==null?void 0:o[E]),I=((d=h[w+1])==null?void 0:d[E])||((a=(r=f[l+1])==null?void 0:r[0])==null?void 0:a[E]),$=y&&I,S=y&&!I,A=!y&&I;if((_[T]&&v[T])===M){if($)continue;if(S)return-1;if(A)return 1}if(_[T]===M)return S?-1:1;if(v[T]===M)return A?1:-1;if(_[k]!==v[k])return(-1)**+_[k];if(_[T]!==v[T])return(-1)**+(_[T]>v[T])}else if((_==null?void 0:_[E])!==(v==null?void 0:v[E]))return st(_[E],v[E])}}return n<u?1:-1})}function at(e){const t=new Map;return n=>(t.has(n)||t.set(n,e(n)),t.get(n))}function it(e){const t=[];let n=0;for(;n<=e.length;){const u=e.indexOf("[",n),s=u===-1;if(t.push([tt,e.slice(n,s?void 0:u),!1]),s)break;const c=e[u+1]==="["?ie:e[u+1]==="."?M:nt,o=c===ie?"]]":"]",d=e.indexOf(o,u);if(d===-1)throw new Error(`Invalid route definition ${e}`);const r=e.slice(u,n=d+o.length);t.push([c,r,r.includes("=")])}return t}const se=e=>e.replace(/\[\[[^\]]+\]\](?!$)/g,"").split("/").filter(Boolean);function st(e,t){if(e===t)return 0;let n=0;for(;e[n]===t[n];)n++;return e[n]?t[n]?e[n]<t[n]?-1:1:-1:1}const ut=/^(\[)?(\.\.\.)?(\w+)(?:=(\w+))?(\])?$/;function ft(e){const t=[];return{pattern:e==="/"?/^\/$/:new RegExp(`^${de(e).map(u=>{const s=/^\[\.\.\.(\w+)(?:=(\w+))?\]$/.exec(u);if(s)return t.push({name:s[1],matcher:s[2],optional:!1,rest:!0,chained:!0}),"(?:/(.*))?";const c=/^\[\[(\w+)(?:=(\w+))?\]\]$/.exec(u);if(c)return t.push({name:c[1],matcher:c[2],optional:!0,rest:!1,chained:!0}),"(?:/([^/]+))?";if(!u)return;const o=u.split(/\[(.+?)\](?!\])/);return"/"+o.map((r,a)=>{if(a%2){if(r.startsWith("x+"))return q(String.fromCharCode(parseInt(r.slice(2),16)));if(r.startsWith("u+"))return q(String.fromCharCode(...r.slice(2).split("-").map(w=>parseInt(w,16))));const i=ut.exec(r);if(!i)throw new Error(`Invalid param: ${r}`);const[,f,l,g,h]=i;return t.push({name:g,matcher:h,optional:!!f,rest:!!l,chained:l?a===1&&o[0]==="":!1}),l?"(.*?)":f?"([^/]*)?":"([^/]+?)"}return q(r)}).join("")}).join("")}/?$`),params:t}}function ct(e,t,n){const u={},s=e.slice(1),c=s.filter(d=>d!==void 0);let o=0;for(const[d,r]of t.entries()){let a=s[d-o];if(r.chained&&r.rest&&o&&(a=s.slice(d-o,d+1).filter(f=>f).join("/"),o=0),a===void 0){r.rest&&(u[r.name]="");continue}if(r.matcher&&!n[r.matcher])return;if((n[r.matcher]??(()=>!0))(a)){u[r.name]=a;const f=t[d+1],l=s[d+1];f&&!f.rest&&f.optional&&l&&r.chained&&(o=0),!f&&!l&&Object.keys(u).length===c.length&&(o=0);continue}if(r.optional&&r.chained){o++;continue}return}if(!o)return u}function q(e){return e.normalize().replace(/[[\]]/g,"\\$&").replace(/%/g,"%25").replace(/\//g,"%2[Ff]").replace(/\?/g,"%3[Ff]").replace(/#/g,"%23").replace(/[.*+?^${}()|\\]/g,"\\$&")}const ot=/\[(\[)?(\.\.\.)?(\w+?)(?:=(\w+))?\]\]?/g;function oe(e,t){return"/"+de(e).map(n=>n.replace(ot,(u,s,c,o)=>{const d=t[o];if(!d){if(s||c&&d!==void 0)return"";throw new Error(`Missing parameter '${o}' in route ${e}`)}if(d[0]=="/"||d.endsWith("/"))throw new Error(`Parameter '${o}' in route ${e} cannot start or end with a slash`);return d})).filter(Boolean).join("/")}function le(e,t,n){const u=rt(t);for(const s of u){const c=ft(s),o=c.pattern.exec(lt(e));if(!o)continue;const d=ct(o,c.params,n);if(d)return{params:d,id:s}}}const lt=e=>e.endsWith("/")?e.slice(0,-1):e,de=e=>e.slice(1).split("/"),dt=(e,t)=>Object.fromEntries(Object.entries(e).map(([n,u])=>[n,typeof u=="object"?u:gt(u,t)])),gt=(e,t)=>Object.fromEntries(t.map(n=>[n,e({},{languageTag:n})]));function _t(e,t,n,u,s){function c(r){const i=r.split("/")[1];if(e.includes(i)&&(s==="always"||i!==t))return i;if(s==="never")return t}function o(r,a){const i=r.endsWith("/")&&r!=="/";r=i?r.slice(0,-1):r;let f=vt(r,a,n,u);return i&&(f+="/"),(s==="always"||a!==t)&&(f=`/${a}${f}`),f}function d(r,a){const i=r.endsWith("/")&&r!=="/";(s==="always"||a!==t)&&(r=r.replace(`/${a}`,"")||"/");const f=i;r=f?r.slice(0,-1):r;let l=ht(r,a,n,u);return f&&(l+="/"),l}return{getLanguageFromLocalisedPath:c,getLocalisedPath:o,getCanonicalPath:d}}function ht(e,t,n,u){for(const[s,c]of Object.entries(n)){if(!(t in c))continue;const o=c[t];if(!o)continue;const d=le(e,[o],u);if(d)return oe(s,d.params)}return e}function vt(e,t,n,u){const s=le(e,Object.keys(n),u);if(!s)return e;const c=n[s.id];if(!c)return e;const o=c[t];return o?oe(o,s.params):e}function mt(e,t){var d;const n=t!=null&&t.pathnames?dt(t.pathnames,e.availableLanguageTags):{},u=(t==null?void 0:t.exclude)??[],s=(t==null?void 0:t.defaultLanguageTag)??e.sourceLanguageTag,c={defaultLanguageTag:s,runtime:e,translations:n,matchers:(t==null?void 0:t.matchers)??{},exclude:Qe(u),prefixDefaultLanguage:(t==null?void 0:t.prefixDefaultLanguage)??"never",textDirection:(t==null?void 0:t.textDirection)??et(e.availableLanguageTags),seo:{noAlternateLinks:((d=t==null?void 0:t.seo)==null?void 0:d.noAlternateLinks)??!1}},o=_t(e.availableLanguageTags,s,c.translations,c.matchers,c.prefixDefaultLanguage);return Object.freeze(n),Object.freeze(c),{config:c,strategy:o,reroute:()=>Ze(o),handle:()=>{throw new Error("")},getLanguageFromUrl(r){const a=Y(j),[i]=F(r.pathname,a);return c.exclude(i)?c.defaultLanguageTag:o.getLanguageFromLocalisedPath(i)||c.defaultLanguageTag},resolveRoute(r,a=void 0){if(c.exclude(r))return r;const i=Y(j),[f,l]=F(r,i);if(a=a??e.languageTag(),!r.startsWith(i))return r;const g=o.getLocalisedPath(f,a);return G(g,i,l)},route(r){const a=Y(j),[i,f]=F(r,a),g=o.getLanguageFromLocalisedPath(i)||c.defaultLanguageTag,h=o.getCanonicalPath(i,g);return G(h,a,f)}}}function Y(e){return e===""?"":e.startsWith("/")?e:Ke(e,new URL(ze(Ue).url))}const St=mt(Ye);export{xt as a,D as b,F as c,St as i,Ke as n,Lt as p,G as s};
